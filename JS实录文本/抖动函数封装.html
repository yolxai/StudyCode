<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
	#div1 {
			width:50px;
			height:50px;
			background:green;
			border:2px solid #ccc;
			position:absolute;
			left:10px;
		}
</style>
<script src='my.js'></script>
<script>
	window.onload = function(){
		var oDiv = document.getElementById('div1');
		
		
		oDiv.onclick = function(){
			shaKe(oDiv,'left');
		}
		
		function shaKe (obj,attr,endFn){
				var num = 0;
				var arr = [];
				var left = parseInt(getStyle(obj,attr));
				for(var i=20;i>0;i-=2){
					arr.push(i,-i);
				}
				arr.push(0);
				
				clearInterval( obj.timerDd );
				
				obj.timerDd = setInterval(function(){
					obj.style[attr] = left+arr[num]+'px';
					num++;
					if( num == arr.length){
						clearInterval( obj.timerDd );
						endFn && endFn();
					}
				},50);	
		}
		
		
	}
</script>
</head>

<body>
	<div id="div1"></div>
</body>
</html>
