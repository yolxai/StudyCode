<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<title></title>
	<style type="text/css">
		#div1{
			width:200px;
			height:200px;
			background:green;
			position:absolute;
		}
		div{
			width:3px;
			height:3px;
			background:black;
			position:absolute;
		}
	</style>
	<script type="text/javascript">
		window.onload = function(){

			var oDiv = document.getElementById('div1');

			oDiv.onmousedown = function(ev){

				var oEvent = ev || event;
				var disX = oEvent.clientX - this.offsetLeft;
				var disY = oEvent.clientY - this.offsetTop;

				document.onmousemove = function(ev){
					
					var oEvent = ev || event;
					var left = oEvent.clientX - disX;
					var top = oEvent.clientY - disY;

					oDiv.style.left = left + 'px';
					oDiv.style.top = top + 'px';

					var div = document.createElement('div');

					document.body.appendChild(div);

					div.style.left = left + 'px';
					div.style.top = top + 'px';

					document.title = document.getElementsByTagName('div').length-1;

				}

				oDiv.onmouseup = function(){
					document.onmousemove = null;
					oDiv.onmouseup = null;
				}

			}

		}
	</script>
</head>
<body>
	<div id="div1"></div>
</body>
</html>