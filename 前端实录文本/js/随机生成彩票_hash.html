<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<title></title>
	<style type="text/css">
		body,div,p,input,a{padding:0;margin:0}
		#btn {
			margin:10px 2px 10px 10px;
			width:200px;
			height:80px;
			/*background:red;*/
			border:2px solid rgba(0,0,0,0.5);
			float:left;
		}
		.dA{
			text-decoration:none;
			width:50px;
			display:block;
			float:left;
			color:red;
			margin-top:65px;
			font-size:11px;
		}
		#div1{
			width:900px;
			height:100px;
			clear:left;
			margin:0px 0px 0px 10px;
			border:2px solid #000;
			text-align:center;
			font:16px/100px "微软雅黑";
		}
		.details{
			position:absolute;
			width:600px;
			height:500px;
			background:red;
			top:10px;
			left:10px;
			border-radius:1%;
			display:none;
		}

		#btn:hover{
			background:#999;
			color:#FFF;
		}

	</style>
	<script type="text/javascript">
		function getByClass(oParent,sClass){
			var aAll = oParent.getElementsByTagName('*');
			var newArr = [];

			for(var i=0;i<aAll.length;i++){
				if(aAll[i].className == sClass){
					newArr.push(aAll[i]);
				}
			}

			return newArr;

		}

		window.onload = function(){
			var oBtn = document.getElementById('btn');
			var oA = getByClass(document.body,'dA')[0];
			var oDiv = document.getElementById('div1');
			var oP = getByClass(document.body,'details')[0];
			var num = 1;
			var hash = {};

			oBtn.onclick = function(){
				if(num > 10){
					alert('已经达到最高数');
					return false;
				}else{

					var number = Math.random();
					var arr = randomNum(40,10) + ' : ' + num +'<br/>';
					hash[number] =oDiv.innerHTML+ arr;

					oDiv.innerHTML = arr ;
					oDiv.style.height = 'auto';
					num++;

					window.location.hash = number;

					alert(JSON.stringify(hash));

				}
			}

			window.onhashchange = function(){
				oDiv.innerHTML = hash[window.location.hash.substring(1)];
			}

			function randomNum(count,num){
				var countArr = [];
				var NewArr = [];

				for(var i=1;i<=count;i++){
					countArr.push(i);
				}

				for(var i=0;i<num;i++){
					NewArr.push( parseInt(Math.random() * countArr.length));
				}

				return NewArr;
			}
		}
	</script>
</head>
<body>
<input type="button" value="随机生成彩票" id="btn"/><a class="dA" href="javascript:void(0);">查看详情</a>
<div id="div1"></div>
<p class="details">这里面是详细内容</p>
</body>
</html>